<h1>選手詳細</h1>

<div class="player-details">
  <div class="player-info">
    <h2><%= @player.name %></h2>
    <p class="name-kana"><%= @player.name_kana %></p>

    <table class="details-table">
      <tr>
        <th>カテゴリ</th>
        <td><%= @player.category.humanize if @player.category %></td>
      </tr>
      <tr>
        <th>所属</th>
        <td><%= @player.affiliation %></td>
      </tr>
      <tr>
        <th>ポジション</th>
        <td><%= @player.positions.map(&:name).join(", ") %></td>
      </tr>
      <tr>
        <th>投打</th>
        <td><%= @player.pitching_batting.humanize if @player.pitching_batting %></td>
      </tr>
      <tr>
        <th>身長</th>
        <td><%= "#{@player.height}cm" if @player.height %></td>
      </tr>
      <tr>
        <th>体重</th>
        <td><%= "#{@player.weight}kg" if @player.weight %></td>
      </tr>
      <tr>
        <th>年齢</th>
        <td><%= "#{@player.age}歳" if @player.age %></td>
      </tr>
    </table>

    <% if @player.description.present? %>
      <div class="description">
        <h3>寸評</h3>
        <p><%= simple_format(@player.description) %></p>
      </div>
    <% end %>
  </div>

  <div class="draft-results">
    <h3>ドラフト結果</h3>
    <% if @player.draft_results.any? %>
      <% @player.draft_results.each do |result| %>
        <div class="draft-result">
          <strong><%= result.year %>年</strong>
          <% if result.team %>
            <%= result.team.short_name %>
            <%= "#{result.draft_round}位" if result.draft_round %>
            <%= "(育成)" if result.training_player %>
          <% else %>
            未指名
          <% end %>
        </div>
      <% end %>
    <% else %>
      <p>ドラフト結果が未登録です。</p>
    <% end %>
  </div>
</div>

<div class="actions">
  <%= link_to "編集", edit_player_path(@player), class: "btn btn-primary" %>
  <%= link_to "削除", player_path(@player), data: { turbo_method: :delete, turbo_confirm: "#{@player.name}を削除しますか？" }, class: "btn btn-danger" %>
  <%= link_to "一覧に戻る", players_path, class: "btn btn-secondary" %>
</div>